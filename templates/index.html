<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapYourRestaurant</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- Graphs -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Custom -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    

</head>
<body class="m-0">
    <div class="container-fluid p-0 d-flex flex-nowrap" style="width: 100%; height: 100%;">
        <!-- Left Stripe - Filter menu -->
        <div class="stripe stripe-left d-flex flex-column">
            <div class="filter-1 flex-shrink-0 position-relative">
                <div class="header">
                    Filters
                    <!-- <button class="close-btn" onclick="toggleSidebar('close')">←</button> -->
                </div>  
            </div>
            <div class="filter-2 flex-grow-1">
                <div class="filter-section">
                    <div class="filter">
                        <div class="stars">
                            <label class="label-filter">Overall</label>
                            <span>
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-1-filter-general" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(1, 'general')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-2-filter-general" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(2, 'general')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-3-filter-general" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(3, 'general')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-4-filter-general" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(4, 'general')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-5-filter-general" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(5, 'general')">
                            </span>
                        </div>
                    </div>
    
                    <div class="filter">
                        <div class="stars">
                            <label class="label-filter">Food</label>
                            <span>
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-1-filter-food" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(1, 'food')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-2-filter-food" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(2, 'food')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-3-filter-food" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(3, 'food')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-4-filter-food" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(4, 'food')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-5-filter-food" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(5, 'food')">
                            </span>
                        </div>
                    </div>
    
                    <div class="filter">
                        <div class="stars">
                            <label class="label-filter">Service</label>
                            <span>
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-1-filter-service" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(1, 'service')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-2-filter-service" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(2, 'service')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-3-filter-service" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(3, 'service')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-4-filter-service" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(4, 'service')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-5-filter-service" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(5, 'service')">
                            </span>
                        </div>
                    </div>
    
                    <div class="filter">
                        <div class="stars">
                            <span>
                                <label class="label-filter">Atmosphere</label>
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-1-filter-atmosphere" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(1, 'atmosphere')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-2-filter-atmosphere" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(2, 'atmosphere')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-3-filter-atmosphere" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(3, 'atmosphere')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-4-filter-atmosphere" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(4, 'atmosphere')">
                                <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" class= "filter-star-img" id="star-5-filter-atmosphere" alt="Star" style="width: 20px; height: 20px;" onclick="update_filter_stars(5, 'atmosphere')">
                            </span></div>
                    </div>

                    <div class="filter">
                        <label class="label-filter">Price</label>
                        <div class="buttons"><span>
                            <button id="price-0-10" class="btn btn-price-filter-inactive mb-2" data-active="false" onclick="update_filter_price_rating(this, 0, 10)">0 - 10€</button>
                            <button id="price-10-20" class="btn btn-price-filter-inactive mb-2" data-active="false" onclick="update_filter_price_rating(this, 10, 20)">10 - 20€</button>
                            <button id="price-20-30" class="btn btn-price-filter-inactive mb-2" data-active="false" onclick="update_filter_price_rating(this, 20, 30)">20 - 30€</button>
                            <button id="price-30-40" class="btn btn-price-filter-inactive mb-2" data-active="false" onclick="update_filter_price_rating(this, 30, 40)">30 - 40€</button>
                            <button id="price-40-50" class="btn btn-price-filter-inactive mb-2" data-active="false" onclick="update_filter_price_rating(this, 40, 50)">40 - 50€</button>
                            <button id="price-50-100" class="btn btn-price-filter-inactive mb-2" data-active="false" onclick="update_filter_price_rating(this, 50, 100)">over 50€</button>
                        </span></div>
                    </div>

                    <div class="filter">
                        <label class="label-filter">Food Type</label>
                        <div class="buttons" id="filter-food-types">
                                Placeholder for food type filter buttons
                        </div>
                    </div>
                </div>
            </div>

            <div class="filter-3 flex-shrink-0">
                <div class="d-flex flex-column gap-2">
                    <button id="delete-filter-button" class="btn btn-green w-100" onclick="delete_all_filters()">
                        Delete all filters
                    </button>
                    <button id="filter-button" class="btn btn-primary w-100" onclick="filter()">
                        Filter
                    </button>
                </div>
            </div>
        </div>


        <!-- Center Stripe - Map -->
        <div class="stripe stripe-center flex-grow-1" id="map-container" style="width: 100%; height: 100%; position: relative;">
            <!-- Suchleiste -->
            <div class="input-group search-bar">
                <!-- Lupe als Symbol -->
                <span class="btn input-group-text" id="search-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#888" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.099zm-5.742 1.656a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11z"/>
                    </svg>
                </span>
                <!-- Eingabefeld -->
                <input type="text" class="form-control" placeholder="Search location" aria-label="Search location" aria-describedby="search-icon">
            </div>
        
            <!-- Karte -->
            <div id="map" style="width: 100%; height: 100%;"></div>
        </div>


        <!-- Right Stripe - Restaurant details -->
        <div id="rightSidebar" class="stripe stripe-right d-flex flex-column">

            <!-- header, adress and stars-->
            <div class="top-part-right">
                <div class="header" >
                    <div id="name">Restaurant Name</div>
                    <!-- <button class="close-btn" onclick="close_sidebar()">×</button> -->
                </div>
                <p >
                    <div id="address"> Street, 123 PLZ City, Country</div>
                    <a id="website-url" target="_blank" rel="noopener noreferrer"></a>
                    <div id="type_tags"></div>
                </p>
                <div id="star-rating" class="star-rating badge rounded-pill text-bg-secondary position-relative">
                    <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-1" alt="Star" style="width: 20px; height: 20px;">
                    <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-2" alt="Star" style="width: 20px; height: 20px;">
                    <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-3" alt="Star" style="width: 20px; height: 20px;">
                    <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-4" alt="Star" style="width: 20px; height: 20px;">
                    <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-5" alt="Star" style="width: 20px; height: 20px;">
                    <span id="avg-rating"> (4.2) </span>
                </div>
            </div>

            <!-- subcategory ratings -->
            <div id="subcategories-right-side">
                <hr class="hr-divider" id="hr-right-side">
                <div id="subcategory-ratings">
                    <p class="overview" id="overview-food">
                        <div id="star-rating-food-ov" class="star-rating-detail star-rating-ov badge rounded-pill text-bg-secondary position-relative">
                            <span>Food</span>
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-1-food" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-2-food" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-3-food" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-4-food" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-5-food" alt="Star" style="width: 15px; height: 15px;">
                            <span id="avg-rating-food" class="avg-rating-label"> (4.2) </span>
                        </div>
                    </p>
                    <p class="overview" id="overview-service">
                        <div id="star-rating-service-ov" class="star-rating-detail star-rating-ov badge rounded-pill text-bg-secondary position-relative">
                            <span>Service</span>
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-1-service" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-2-service" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-3-service" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-4-service" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-5-service" alt="Star" style="width: 15px; height: 15px;">
                            <span id="avg-rating-service" class="avg-rating-label"> (4.2) </span>
                        </div>
                    </p>
                    <p class="overview" id="overview-atmosphere">
                        <div id="star-rating-atmosphere-ov" class="star-rating-detail star-rating-ov badge rounded-pill text-bg-secondary position-relative">
                            <span>Atmosphere</span>
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-1-atmosphere" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-2-atmosphere" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-3-atmosphere" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-4-atmosphere" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-5-atmosphere" alt="Star" style="width: 15px; height: 15px;">
                            <span id="avg-rating-atmosphere" class="avg-rating-label"> (4.2) </span>
                        </div>
                    </p>
                </div>
                <!-- <button id="info-button" onclick="showPopup()">?</button> --> 
                <hr class="hr-divider" id="hr-right-side">
            </div>

            <!-- details for food, service, atmosphere and price -->
            <div id="detailed-info-right-side">
                <nav>
                    <div class="nav nav-underline" id="nav-tab" role="tablist">
                        <button class="nav-link active" id="nav-info-tab" data-bs-toggle="tab" data-bs-target="#nav-info" type="button" role="tab" aria-controls="nav-info" aria-selected="true">Info</button>
                        <button class="nav-link" id="nav-food-tab" data-bs-toggle="tab" data-bs-target="#nav-food" type="button" role="tab" aria-controls="nav-food" aria-selected="false">Food</button>
                        <button class="nav-link" id="nav-service-tab" data-bs-toggle="tab" data-bs-target="#nav-service" type="button" role="tab" aria-controls="nav-service" aria-selected="false">Service</button>
                        <button class="nav-link" id="nav-atmosphere-tab" data-bs-toggle="tab" data-bs-target="#nav-atmosphere" type="button" role="tab" aria-controls="nav-atmosphere" aria-selected="false">Atmosphere</button>
                        <button class="nav-link" id="nav-price-tab" data-bs-toggle="tab" data-bs-target="#nav-price" type="button" role="tab" aria-controls="nav-price" aria-selected="false">Price Level</button>
                    </div>
                </nav>

                  <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-info" role="tabpanel" aria-labelledby="nav-info-tab" tabindex="0">
                        <p id="summary">
                            "Placeholder summary"
                            <div class="label-amount" id="label-amount-overall">(based on 100 reviews)</div>
                        </p>   
                    </div>
                    <div class="tab-pane fade" id="nav-food" role="tabpanel" aria-labelledby="nav-food-tab" tabindex="0">
                        <!-- <div id="star-rating-food-detail" class="star-rating-detail badge rounded-pill text-bg-secondary position-relative">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-1-food-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-2-food-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-3-food-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-4-food-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-5-food-detail" alt="Star" style="width: 15px; height: 15px;">
                            <span id="avg-rating-food-detail" class="avg-rating-label"> (4.2) </span>
                        </div> -->
                        <p class="summary-subcategory" id="summary-food">
                            "Placeholder summary." 
                            <div class="label-amount" id="label-amount-food">(based on 100 reviews)</div>
                        </p>
                        <svg class="graph" id="graph-avg-food"></svg>
                        <p></p>
                        <svg class="graph" id="graph-total-food">Graph total food</svg>
                    </div>
                    <div class="tab-pane fade" id="nav-service" role="tabpanel" aria-labelledby="nav-service-tab" tabindex="0">
                        <!-- <div id="star-rating-service-detail" class="star-rating-detail badge rounded-pill text-bg-secondary position-relative">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-1-service-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-2-service-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-3-service-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-4-service-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-5-service-detail" alt="Star" style="width: 15px; height: 15px;">
                            <span id="avg-rating-service-detail" class="avg-rating-label"> (4.2) </span>
                        </div> -->
                        <p class="summary-subcategory" id="summary-service">
                            "Placeholder summary."
                            <div class="label-amount" id="label-amount-service">(based on 100 reviews)</div>
                        </p>
                        <svg class="graph" id="graph-avg-service">Graph avg service</svg>
                        <p></p>
                        <svg class="graph" id="graph-total-service">Graph total service</svg>
                    </div>
                    <div class="tab-pane fade" id="nav-atmosphere" role="tabpanel" aria-labelledby="nav-atmosphere-tab" tabindex="0">
                        <!-- <div id="star-rating-atmosphere-detail" class="star-rating-detail badge rounded-pill text-bg-secondary position-relative">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-1-atmosphere-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-2-atmosphere-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-3-atmosphere-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-4-atmosphere-detail" alt="Star" style="width: 15px; height: 15px;">
                            <img src="{{ url_for('static', filename='graphics/leerer_stern.png') }}" id="star-5-atmosphere-detail" alt="Star" style="width: 15px; height: 15px;">
                            <span id="avg-rating-atmosphere-detail" class="avg-rating-label"> (4.2) </span>
                        </div> -->
                        <p class="summary-subcategory" id="summary-atmosphere">
                            "Placeholder summary." 
                            <div class="label-amount" id="label-amount-atmosphere">(based on 100 reviews)</div>
                        </p>
                        <svg class="graph" id="graph-avg-atmosphere">Graph avg atmosphere</svg>
                        <p></p>
                        <svg class="graph" id="graph-total-atmosphere">Graph total atmosphere</svg>
                    </div>
                    <div class="tab-pane fade" id="nav-price" role="tabpanel" aria-labelledby="nav-price-tab" tabindex="0">
                        <p class="summary-subcategory" id="summary-price">
                            "Placeholder summary." (based on 100 reviews)
                            <div class="label-amount" id="label-amount-price">(based on 100 reviews)</div>
                        </p>
                        <svg class="graph" id="graph-total-price">Graph total price</svg>
                    </div>
                  </div>
            </div>
        </div>
    </div>




    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top" id="footer-div">
        <div class="col-md-4 d-flex align-items-center">
            <span class="mb-3 mb-md-0 text-body-secondary">Theresa Baumstark, Laura Gaddum, Juliana Tonn</span>
        </div>

        <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
            <li class="ms-3">
                <a href="https://uni-tuebingen.de/fakultaeten/wirtschafts-und-sozialwissenschaftliche-fakultaet/faecher/fachbereich-wirtschaftswissenschaft/wirtschaftswissenschaft/studium/studiengaenge/master/msc-data-science-in-business-and-economics/" 
                    class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1" 
                    target="_blank" rel="noopener noreferrer">
                    <img src="{{ url_for('static', filename='graphics/uni_tuebingen.png') }}" alt="Uni Tübingen Logo" width="30" height="24" />
                </a>
            </li>
            <li class="ms-3">
                <a href="https://github.com/lorrrrrrra/ds_project" 
                    class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1" 
                    target="_blank" rel="noopener noreferrer">
                    <img src="{{ url_for('static', filename='graphics/github.png') }}" alt="Git Logo" width="30" height="24" />
                </a>
        </ul>
    </footer>

    <!-- PapaParse-library -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    
</body>
</html>
